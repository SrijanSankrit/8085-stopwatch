# 8085 micrpoprocessor based stopwatch code
# CODE starts at address D000
LXI SP, FEFF
MVI A, 1BH
SIM
EI
UP3 : LXI H, 0000H
MVI A, 00H
UP2 : MOV C,A
LXI D, 04E2
UP: DCX D
MOV A,D
ORA E
JNZ UP
MOV A, C
DAA
PUSH H
PUSH PSW
CALL MODIDT
POP PSW
POP H
INR A
JNC UP2
INX H
MVI B,00H
NOP
NOP
MOV A,L
MVI B, 00H
INR B
STC
CMC
DAA
CPI 60
JNZ DOWN
INR H
DOWN : MVI A, 00H
MOV L,A
MOV A,H
MVI B, 00H
INR B
STC
CMC
DAA
MOV H,A
PUSH H
PUSH PSW
CALL MODIAD
POP PSW
POP H
MVI B,00H
JMP UP3
